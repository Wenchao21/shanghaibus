#: import main main
#: import ListItemButton kivy.uix.listview.ListItemButton
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
RootWidget:


<RootWidget>:
    query_form: query_form
    QueryBus:
        id: query_form

<QueryBus>:
    bus_names: bus_names
    search_input: search_input
    search_label: search_label
	orientation: "vertical"
	BoxLayout:
		size_hint_y: None
		height: "40dp"
		ColorLabel:
		    id: search_label
			size_hint_x: 20
		TextInput:
		    id: search_input
			size_hint_x: 80
			focus:True
			multiline:False
			on_text: root.input_filter()
	ListView:
	    id: bus_names
	    adapter:
	        ListAdapter(data=[], cls=main.BusesListButton)

<ColorLabel>:
	bcolor: [105, 105, 105, 0.5]
	canvas.before:
	    Color:
	        rgba: self.bcolor
	    Rectangle:
	        pos: self.pos
	        size: self.size

<BusesListButton>:
    on_press: self.show_bus_router()

<BusDirection>:
    on_press: self.change_bus_direction()

<BusStation>:
    on_press: self.query_stop_info()

<BusRouter>:
    bus_name_label: bus_name_label
    bus_station_label: bus_station_label
    return_button: return_button
    bus_direction_listbutton: bus_direction_listbutton
    bus_station_listbutton: bus_station_listbutton
    orientation: "vertical"
    BoxLayout:
        size_hint_y: None
        height: "60dp"
        ColorLabel:
            id: bus_name_label
    ListView:
        size_hint_y: None
        height: "50"
        id: bus_direction_listbutton
        adapter:
            ListAdapter(data=[], cls=main.BusDirection)
    BoxLayout:
        size_hint_y: None
        height: "80dp"
        ColorLabel:
            id: bus_station_label
    ListView:
        id: bus_station_listbutton
        adapter:
            ListAdapter(data=[], cls=main.BusStation)
    BoxLayout:
        size_hint_y: None
        height: "40dp"
        Button:
            id: return_button
            on_press: root.return_pre()
	

<BusStopInfo>:
    stopinfotitle_label: stopinfotitle_label
    stopinfobusname_label: stopinfobusname_label
    stopinfobusdirection_label: stopinfobusdirection_label
    stopinfoback_button: stopinfoback_button
    stopinfowatch_button: stopinfowatch_button
    stopinfo_label: stopinfo_label
    orientation: "vertical"
    BoxLayout:
        size_hint_y: None
        height: "80dp"
        ColorLabel:
            border: True
            id: stopinfotitle_label
    Widget:
        size_hint_y: None
        height: "1dp"
    BoxLayout:
        size_hint_y: None
        height: "60dp"
        ColorLabel:
            id: stopinfobusname_label
    Widget:
        size_hint_y: None
        height: "1dp"
    BoxLayout:
        size_hint_y: None
        height: "40dp"
        ColorLabel:
            id: stopinfobusdirection_label
    Widget:
        size_hint_y: None
        height: "1dp"
    BoxLayout:
        ColorLabel:
            id: stopinfo_label
    BoxLayout:
        size_hint_y: None
        height: "40dp"
        Button:
            id: stopinfoback_button
            size_hint_x: 50
            on_press: root.back_to_busrouter()
        Button:
            id: stopinfowatch_button
            size_hint_x: 50
            on_press: root.add_to_watchlist()
